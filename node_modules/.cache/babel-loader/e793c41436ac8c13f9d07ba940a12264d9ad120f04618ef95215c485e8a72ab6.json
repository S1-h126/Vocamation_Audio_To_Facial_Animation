{"ast":null,"code":"var _jsxFileName = \"C:\\\\facial-animation\\\\src\\\\components\\\\View.js\";\nimport React, { Component } from \"react\";\nimport \"./css/View.css\";\nimport Model from \"./Model.js\";\nimport AudioRecorder from \"./AudioRecorder.js\";\nimport \"./css/Slider.css\";\nimport \"./css/Toggle.css\";\nimport \"./css/Progress.css\";\nimport { Transition } from \"react-transition-group\";\nimport { login, authFetch, useAuth, logout } from \"../auth\";\nimport { AUDIO_FRAME, FPS, transitionStyles, defaultStyle, defaultStyleMount, darkBg, darkFont, darkFocus, lightBg, lightFont, lightFocus, darkBack1, darkBack2, lightBack1, lightBack2 } from \"../Config.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass View extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      file: undefined,\n      animationStatus: \"STOP\",\n      visemes: undefined,\n      inputProcessed: false,\n      sliderValue: 0.55,\n      popup: false,\n      mounted: false,\n      popupText: \"\",\n      menu: false,\n      progress: 0\n    };\n    this.theme = this.props.theme;\n    this.themeSlider = /*#__PURE__*/React.createRef();\n    this.move = 0.02;\n    this.delta = 0;\n    this.modelControlActive = false;\n    this.currentFrame = 0;\n    this.lidMove = 0.1;\n    this.lidSpeed = 0.1;\n    this.lidWait = 1;\n    this.play = this.play.bind(this);\n    this.pause = this.pause.bind(this);\n    this.stop = this.stop.bind(this);\n    this.processResponse = this.processResponse.bind(this);\n    this.fetchInput = this.fetchInput.bind(this);\n    this.playAnimation = this.playAnimation.bind(this);\n    this.pauseAnimation = this.pauseAnimation.bind(this);\n    this.stopAnimation = this.stopAnimation.bind(this);\n    this.handleFile = this.handleFile.bind(this);\n    this.sendFile = this.sendFile.bind(this);\n    this.handleSlider = this.handleSlider.bind(this);\n    this.handleRecording = this.handleRecording.bind(this);\n    this.openPopup = this.openPopup.bind(this);\n    this.closePopup = this.closePopup.bind(this);\n    this.modelLoaded = this.modelLoaded.bind(this);\n    this.setTheme = this.setTheme.bind(this);\n    this.themeHandler = this.themeHandler.bind(this);\n    this.showMenu = this.showMenu.bind(this);\n    this.setProgress = this.setProgress.bind(this);\n  }\n  componentDidMount() {\n    this.fetchInput();\n    if (this.theme === \"light\" && this.themeSlider.current) this.themeSlider.current.checked = true;\n    this.setTheme(this.theme);\n    this.audio = new Audio();\n    this.audio.loop = false;\n  }\n  componentDidUpdate() {}\n  fetchInput() {\n    // test server fetch\n    fetch(\"/api/time\").then(res => res.json()).then(data => {\n      console.log(data);\n    });\n  }\n  calculateDistance(point1, point2) {\n    return Math.sqrt(Math.pow(point1[0] - point2[0], 2) + Math.pow(point1[1] - point2[1], 2));\n  }\n  processResponse(response) {\n    // process the viseme list from the server\n    const step = 1000 / AUDIO_FRAME / FPS;\n    var result = [],\n      frame = undefined,\n      j = undefined;\n    for (var i = 0; i < response.length; i += step) {\n      // change the frequency of the visemes from 100Hz to 60Hz\n      frame = response.slice(i, i + step)[0];\n      result.push(frame);\n      j = result.length - 1;\n      if (j >= 3) {\n        // eliminate singular visemes\n        if (result[j - 2] !== result[j - 1] && result[j - 1] !== result[j]) {\n          result[result.length - 2] = result[result.length - 3];\n        }\n      }\n    }\n    this.setState({\n      visemes: result,\n      inputProcessed: true\n    });\n  }\n  maxElement(array) {\n    if (array.length === 0) return null;\n    var modeMap = {};\n    var maxEl = array[0],\n      maxCount = 1;\n    for (var i = 0; i < array.length; i++) {\n      var el = array[i];\n      if (modeMap[el] == null) modeMap[el] = 1;else modeMap[el]++;\n      if (modeMap[el] > maxCount) {\n        maxEl = el;\n        maxCount = modeMap[el];\n      }\n    }\n    return maxEl;\n  }\n  stop() {\n    // stops the audio file and corresponding animation\n    if (this.state.animationStatus === \"PLAY\" || this.state.animationStatus === \"PAUSE\") {\n      this.audio.pause();\n      this.audio.currentTime = 0;\n      this.setState({\n        animationStatus: \"STOP\"\n      });\n    }\n  }\n  play() {\n    // plays the audio file and corresponding animation\n    if (this.state.animationStatus === \"STOP\" || this.state.animationStatus === \"PAUSE\") {\n      this.audio.play();\n      this.setState({\n        animationStatus: \"PLAY\"\n      });\n    }\n  }\n  pause() {\n    // pauses the audio file and corresponding animation\n    if (this.state.animationStatus === \"PLAY\") {\n      this.audio.pause();\n      this.setState({\n        animationStatus: \"PAUSE\"\n      });\n    }\n  }\n  playAnimation() {\n    // handler for Play button\n    if (!this.state.inputProcessed) {\n      this.openPopup(\"Upload the audio file to the server!\");\n    } else {\n      this.play();\n    }\n  }\n  stopAnimation() {\n    // handler for Stop button\n    if (!this.state.inputProcessed) {\n      this.openPopup(\"Upload the audio file to the server!\");\n    } else {\n      this.stop();\n    }\n  }\n  pauseAnimation() {\n    // handler for Pause button\n    if (!this.state.inputProcessed) {\n      this.openPopup(\"Upload the audio file to the server!\");\n    } else {\n      this.pause();\n    }\n  }\n  handleFile(event) {\n    // registers the newly uploaded file\n    if (event.target.files.length > 0) {\n      var fileData = event.target.files[0];\n      var fileSource = URL.createObjectURL(fileData);\n      this.stop();\n      this.setState({\n        file: fileData,\n        inputProcessed: false,\n        filename: fileData.name\n      });\n      this.audio.src = fileSource;\n    }\n  }\n  handleRecording(recording) {\n    // registers the newly recorded file\n    this.stop();\n    this.setState({\n      file: recording,\n      inputProcessed: false,\n      filename: \"Recording\"\n    });\n    this.audio.src = URL.createObjectURL(recording);\n    console.log(this.state.file, this.audio.src);\n  }\n  async sendFile() {\n    // send the request to the server with the current audio file\n    if (this.state.file) {\n      // prepare audio file for request\n      const data = new FormData();\n      data.append(\"file\", this.state.file);\n      this.setState({\n        inputProcessed: undefined\n      });\n      this.stop();\n\n      // authenticated fetch by JWT\n      authFetch(\"http://localhost:5001/api/upload\", {\n        method: \"POST\",\n        body: data\n      })\n      // handle the response\n      .then(res => {\n        if (res.status === 401) {\n          this.setState({\n            inputProcessed: false\n          });\n          this.openPopup(\"Sorry you aren't authorized!\");\n          return null;\n        } else if (res.status !== 200) {\n          this.setState({\n            inputProcessed: false\n          });\n          this.openPopup(\"Server failure!\");\n          return null;\n        }\n        return res.json();\n      }).then(res => {\n        if (res) {\n          if (res.status === 200) {\n            this.processResponse(res.result);\n          } else if (res.message === \"Extension\") {\n            this.setState({\n              inputProcessed: false\n            });\n            this.openPopup(\"Incorrect extension! Upload .wav and .mp3 files.\");\n          } else if (res.message === \"Model\") {\n            this.setState({\n              inputProcessed: false\n            });\n            this.openPopup(\"Model failure!\");\n          }\n        }\n      });\n    } else {\n      this.openPopup(\"Choose a file!\");\n    }\n  }\n  mapSliderValue(x) {\n    return 0.5 + 0.5 * x;\n  }\n  handleSlider(event) {\n    this.setState({\n      sliderValue: event.target.value\n    });\n  }\n  showMenu() {\n    // toggle the menu view\n    this.setState({\n      menu: !this.state.menu\n    }, () => {\n      if (this.state.menu) {\n        if (this.theme === \"light\" && this.themeSlider.current) this.themeSlider.current.checked = true;else if (this.theme === \"dark\" && this.themeSlider.current) {\n          this.themeSlider.current.checked = false;\n        }\n      }\n    });\n  }\n  openPopup(text) {\n    this.setState({\n      popup: true,\n      popupText: text\n    });\n  }\n  closePopup() {\n    this.setState({\n      popup: false,\n      popupText: \"\"\n    });\n  }\n  modelLoaded() {\n    this.setState({\n      mounted: true\n    });\n  }\n  themeHandler(e) {\n    if (e.target.checked) this.setTheme(\"light\");else this.setTheme(\"dark\");\n  }\n  setProgress(p) {\n    this.setState({\n      progress: p\n    });\n  }\n  setTheme(newTheme) {\n    // set the colors corresponding to the current theme\n    if (newTheme !== this.theme) {\n      this.theme = newTheme;\n    }\n    this.props.setTheme(this.theme);\n    if (this.theme === \"light\") {\n      document.body.style.setProperty(\"--primary\", lightBg);\n      document.body.style.setProperty(\"--secondary\", lightFont);\n      document.body.style.setProperty(\"--focus\", lightFocus);\n      document.body.style.setProperty(\"--back1\", lightBack1);\n      document.body.style.setProperty(\"--back2\", lightBack2);\n    } else {\n      document.body.style.setProperty(\"--primary\", darkBg);\n      document.body.style.setProperty(\"--secondary\", darkFont);\n      document.body.style.setProperty(\"--focus\", darkFocus);\n      document.body.style.setProperty(\"--back1\", darkBack1);\n      document.body.style.setProperty(\"--back2\", darkBack2);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(Transition, {\n      timeout: 500,\n      in: this.state.mounted,\n      children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          ...defaultStyleMount,\n          ...transitionStyles[state]\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"view-container\",\n          children: [/*#__PURE__*/_jsxDEV(Transition, {\n            timeout: 300,\n            in: this.state.popup,\n            children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...defaultStyle,\n                ...transitionStyles[state]\n              },\n              children: this.state.popup && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"background\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"popup\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"popup-text\",\n                    children: this.state.popupText\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    id: \"popup-close\",\n                    className: \"styled-button\",\n                    onClick: this.closePopup,\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Transition, {\n            timeout: 300,\n            in: this.state.inputProcessed === undefined,\n            children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...defaultStyle,\n                ...transitionStyles[state]\n              },\n              children: this.state.inputProcessed === undefined && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"background\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"loader\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Transition, {\n            timeout: 300,\n            in: this.state.infoPopup,\n            children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...defaultStyle,\n                ...transitionStyles[state]\n              },\n              children: this.state.infoPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"background\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"popup\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-head\",\n                    children: \"Audio-driven facial animation\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 428,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-authors\",\n                    children: \"Authors: Ma\\u0142gorzata Nowicka, Filip Zawadka\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 431,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-text\",\n                    children: \"This application is a realization of the author's Bachelor's thesis project at the Warsaw University of Technology. It generates animation for given speech recording. The application integrates the trained long short-term memory neural network model, residing on the remote server.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-inst-head\",\n                    children: \"Instruction:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-inst\",\n                    children: \"Press the icon in the top-left corner to display the menu.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-inst\",\n                    children: [\"Press \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Choose file\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 35\n                    }, this), \" to upload a \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"wav\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 448,\n                      columnNumber: 66\n                    }, this), \" or\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"mp3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 449,\n                      columnNumber: 29\n                    }, this), \" audio file with speech. Press\", \" \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Record\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 29\n                    }, this), \" to record the speech in real-time.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 447,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-inst\",\n                    children: [\"Press \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Upload\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 35\n                    }, this), \" to send the speech recording to the server.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-inst\",\n                    children: \"When the model is performing the computations on the server, a loading spinner is displayed. Wait until it disappears.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 456,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"info-inst\",\n                    children: [\"The \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"player\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 33\n                    }, this), \" options in the bottom-left corner handle the animation. Change the intensity of the avatar's expression with the \", /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"slider\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 464,\n                      columnNumber: 58\n                    }, this), \".\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    id: \"popup-close\",\n                    className: \"styled-button\",\n                    onClick: e => this.setState({\n                      infoPopup: false\n                    }),\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 427,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"info-button\",\n            className: \"styled-button\",\n            onClick: e => this.setState({\n              infoPopup: true\n            }),\n            children: \"\\u24D8\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"logout-button\",\n            className: \"styled-button right\",\n            onClick: logout,\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-power-off logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 487,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"menu-icon\",\n            onClick: this.showMenu,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"menu-bar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 498,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Transition, {\n            timeout: 300,\n            in: this.state.menu,\n            children: state => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                ...defaultStyle,\n                ...transitionStyles[state]\n              },\n              children: this.state.menu && /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"main-container\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"switch\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    id: \"dark\",\n                    children: \"Dark\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"span\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 513,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"checkbox\",\n                    onChange: this.themeHandler,\n                    ref: this.themeSlider\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 514,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    class: \"slider round\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"Light\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  id: \"choose-file\",\n                  className: \"horizontal vert\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"styled-button\",\n                    children: \"Choose file\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"choose-file\",\n                    type: \"file\",\n                    accept: \"audio/wav, audio/mp3\",\n                    onChange: this.handleFile,\n                    multiple: false\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 525,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"recorder\",\n                  children: /*#__PURE__*/_jsxDEV(AudioRecorder, {\n                    id: \"audio-recorder\",\n                    newRecording: this.handleRecording,\n                    theme: this.theme\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 533,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"chosen-file\",\n                  children: this.state.filename\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  id: \"upload-button\",\n                  className: \"styled-button narrow\",\n                  onClick: this.sendFile,\n                  children: \"Upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bottom horizontal\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"play\",\n              className: \"player styled-button\",\n              onClick: this.playAnimation,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-play\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 563,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"pause\",\n              className: \"player styled-button\",\n              onClick: this.pauseAnimation,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-pause\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              id: \"stop\",\n              className: \"player styled-button\",\n              onClick: this.stopAnimation,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fa fa-stop\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 577,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 572,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"progress\", {\n              id: \"progress\",\n              max: \"1\",\n              value: this.state.progress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"exp-int\",\n            children: [\"Expression \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 38\n            }, this), \" intensity:\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"slider-value\",\n              children: this.state.sliderValue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 585,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"range\",\n              id: \"slider\",\n              min: 0,\n              max: 1,\n              value: this.state.sliderValue,\n              step: 0.05,\n              onChange: this.handleSlider\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 27\n            }, this), !this.state.popup && /*#__PURE__*/_jsxDEV(\"progress\", {\n              id: \"progress\",\n              max: \"1\",\n              value: this.state.progress\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 596,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 584,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Model, {\n            id: \"model\",\n            animationStatus: this.state.animationStatus,\n            visemes: this.state.visemes,\n            sliderValue: this.mapSliderValue(this.state.sliderValue),\n            mounted: this.modelLoaded,\n            theme: this.theme,\n            setProgress: this.setProgress,\n            audio: this.audio,\n            stopAnimation: this.stopAnimation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default View;","map":{"version":3,"names":["React","Component","Model","AudioRecorder","Transition","login","authFetch","useAuth","logout","AUDIO_FRAME","FPS","transitionStyles","defaultStyle","defaultStyleMount","darkBg","darkFont","darkFocus","lightBg","lightFont","lightFocus","darkBack1","darkBack2","lightBack1","lightBack2","jsxDEV","_jsxDEV","View","constructor","props","state","file","undefined","animationStatus","visemes","inputProcessed","sliderValue","popup","mounted","popupText","menu","progress","theme","themeSlider","createRef","move","delta","modelControlActive","currentFrame","lidMove","lidSpeed","lidWait","play","bind","pause","stop","processResponse","fetchInput","playAnimation","pauseAnimation","stopAnimation","handleFile","sendFile","handleSlider","handleRecording","openPopup","closePopup","modelLoaded","setTheme","themeHandler","showMenu","setProgress","componentDidMount","current","checked","audio","Audio","loop","componentDidUpdate","fetch","then","res","json","data","console","log","calculateDistance","point1","point2","Math","sqrt","pow","response","step","result","frame","j","i","length","slice","push","setState","maxElement","array","modeMap","maxEl","maxCount","el","currentTime","event","target","files","fileData","fileSource","URL","createObjectURL","filename","name","src","recording","FormData","append","method","body","status","message","mapSliderValue","x","value","text","e","p","newTheme","document","style","setProperty","render","timeout","in","children","id","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","infoPopup","class","type","onChange","ref","accept","multiple","newRecording","max","min"],"sources":["C:/facial-animation/src/components/View.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./css/View.css\";\r\nimport Model from \"./Model.js\";\r\nimport AudioRecorder from \"./AudioRecorder.js\";\r\nimport \"./css/Slider.css\";\r\nimport \"./css/Toggle.css\";\r\nimport \"./css/Progress.css\";\r\nimport { Transition } from \"react-transition-group\";\r\nimport { login, authFetch, useAuth, logout } from \"../auth\";\r\nimport {\r\n  AUDIO_FRAME,\r\n  FPS,\r\n  transitionStyles,\r\n  defaultStyle,\r\n  defaultStyleMount,\r\n  darkBg,\r\n  darkFont,\r\n  darkFocus,\r\n  lightBg,\r\n  lightFont,\r\n  lightFocus,\r\n  darkBack1,\r\n  darkBack2,\r\n  lightBack1,\r\n  lightBack2,\r\n} from \"../Config.js\";\r\n\r\nclass View extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      file: undefined,\r\n      animationStatus: \"STOP\",\r\n      visemes: undefined,\r\n      inputProcessed: false,\r\n      sliderValue: 0.55,\r\n      popup: false,\r\n      mounted: false,\r\n      popupText: \"\",\r\n      menu: false,\r\n      progress: 0,\r\n    };\r\n\r\n    this.theme = this.props.theme;\r\n    this.themeSlider = React.createRef();\r\n\r\n    this.move = 0.02;\r\n    this.delta = 0;\r\n\r\n    this.modelControlActive = false;\r\n\r\n    this.currentFrame = 0;\r\n\r\n    this.lidMove = 0.1;\r\n    this.lidSpeed = 0.1;\r\n    this.lidWait = 1;\r\n\r\n    this.play = this.play.bind(this);\r\n    this.pause = this.pause.bind(this);\r\n    this.stop = this.stop.bind(this);\r\n    this.processResponse = this.processResponse.bind(this);\r\n    this.fetchInput = this.fetchInput.bind(this);\r\n    this.playAnimation = this.playAnimation.bind(this);\r\n    this.pauseAnimation = this.pauseAnimation.bind(this);\r\n    this.stopAnimation = this.stopAnimation.bind(this);\r\n    this.handleFile = this.handleFile.bind(this);\r\n    this.sendFile = this.sendFile.bind(this);\r\n    this.handleSlider = this.handleSlider.bind(this);\r\n    this.handleRecording = this.handleRecording.bind(this);\r\n    this.openPopup = this.openPopup.bind(this);\r\n    this.closePopup = this.closePopup.bind(this);\r\n    this.modelLoaded = this.modelLoaded.bind(this);\r\n    this.setTheme = this.setTheme.bind(this);\r\n    this.themeHandler = this.themeHandler.bind(this);\r\n    this.showMenu = this.showMenu.bind(this);\r\n    this.setProgress = this.setProgress.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchInput();\r\n\r\n    if (this.theme === \"light\" && this.themeSlider.current)\r\n      this.themeSlider.current.checked = true;\r\n    this.setTheme(this.theme);\r\n    this.audio = new Audio();\r\n    this.audio.loop = false;\r\n  }\r\n\r\n  componentDidUpdate() { }\r\n\r\n  fetchInput() {\r\n    // test server fetch\r\n    fetch(\"/api/time\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n      });\r\n  }\r\n\r\n  calculateDistance(point1, point2) {\r\n    return Math.sqrt(\r\n      Math.pow(point1[0] - point2[0], 2) + Math.pow(point1[1] - point2[1], 2)\r\n    );\r\n  }\r\n\r\n  processResponse(response) {\r\n    // process the viseme list from the server\r\n    const step = 1000 / AUDIO_FRAME / FPS;\r\n    var result = [],\r\n      frame = undefined,\r\n      j = undefined;\r\n    for (var i = 0; i < response.length; i += step) {\r\n      // change the frequency of the visemes from 100Hz to 60Hz\r\n      frame = response.slice(i, i + step)[0];\r\n      result.push(frame);\r\n\r\n      j = result.length - 1;\r\n      if (j >= 3) {\r\n        // eliminate singular visemes\r\n        if (result[j - 2] !== result[j - 1] && result[j - 1] !== result[j]) {\r\n          result[result.length - 2] = result[result.length - 3];\r\n        }\r\n      }\r\n    }\r\n    this.setState({\r\n      visemes: result,\r\n      inputProcessed: true,\r\n    });\r\n  }\r\n\r\n  maxElement(array) {\r\n    if (array.length === 0) return null;\r\n    var modeMap = {};\r\n    var maxEl = array[0],\r\n      maxCount = 1;\r\n    for (var i = 0; i < array.length; i++) {\r\n      var el = array[i];\r\n      if (modeMap[el] == null) modeMap[el] = 1;\r\n      else modeMap[el]++;\r\n      if (modeMap[el] > maxCount) {\r\n        maxEl = el;\r\n        maxCount = modeMap[el];\r\n      }\r\n    }\r\n    return maxEl;\r\n  }\r\n\r\n  stop() {\r\n    // stops the audio file and corresponding animation\r\n    if (\r\n      this.state.animationStatus === \"PLAY\" ||\r\n      this.state.animationStatus === \"PAUSE\"\r\n    ) {\r\n      this.audio.pause();\r\n      this.audio.currentTime = 0;\r\n      this.setState({ animationStatus: \"STOP\" });\r\n    }\r\n  }\r\n\r\n  play() {\r\n    // plays the audio file and corresponding animation\r\n    if (\r\n      this.state.animationStatus === \"STOP\" ||\r\n      this.state.animationStatus === \"PAUSE\"\r\n    ) {\r\n      this.audio.play();\r\n      this.setState({ animationStatus: \"PLAY\" });\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    // pauses the audio file and corresponding animation\r\n    if (this.state.animationStatus === \"PLAY\") {\r\n      this.audio.pause();\r\n      this.setState({ animationStatus: \"PAUSE\" });\r\n    }\r\n  }\r\n\r\n  playAnimation() {\r\n    // handler for Play button\r\n    if (!this.state.inputProcessed) {\r\n      this.openPopup(\"Upload the audio file to the server!\");\r\n    } else {\r\n      this.play();\r\n    }\r\n  }\r\n\r\n  stopAnimation() {\r\n    // handler for Stop button\r\n    if (!this.state.inputProcessed) {\r\n      this.openPopup(\"Upload the audio file to the server!\");\r\n    } else {\r\n      this.stop();\r\n    }\r\n  }\r\n\r\n  pauseAnimation() {\r\n    // handler for Pause button\r\n    if (!this.state.inputProcessed) {\r\n      this.openPopup(\"Upload the audio file to the server!\");\r\n    } else {\r\n      this.pause();\r\n    }\r\n  }\r\n\r\n  handleFile(event) {\r\n    // registers the newly uploaded file\r\n    if (event.target.files.length > 0) {\r\n      var fileData = event.target.files[0];\r\n      var fileSource = URL.createObjectURL(fileData);\r\n\r\n      this.stop();\r\n      this.setState({\r\n        file: fileData,\r\n        inputProcessed: false,\r\n        filename: fileData.name,\r\n      });\r\n      this.audio.src = fileSource;\r\n    }\r\n  }\r\n\r\n  handleRecording(recording) {\r\n    // registers the newly recorded file\r\n    this.stop();\r\n    this.setState({\r\n      file: recording,\r\n      inputProcessed: false,\r\n      filename: \"Recording\",\r\n    });\r\n    this.audio.src = URL.createObjectURL(recording);\r\n\r\n    console.log(this.state.file, this.audio.src);\r\n  }\r\n\r\n  async sendFile() {\r\n    // send the request to the server with the current audio file\r\n    if (this.state.file) {\r\n      // prepare audio file for request\r\n      const data = new FormData();\r\n      data.append(\"file\", this.state.file);\r\n\r\n      this.setState({ inputProcessed: undefined });\r\n      this.stop();\r\n\r\n      // authenticated fetch by JWT\r\n      authFetch(\"http://localhost:5001/api/upload\", { method: \"POST\", body: data })\r\n        // handle the response\r\n        .then((res) => {\r\n          if (res.status === 401) {\r\n            this.setState({ inputProcessed: false });\r\n            this.openPopup(\"Sorry you aren't authorized!\");\r\n            return null;\r\n          } else if (res.status !== 200) {\r\n            this.setState({ inputProcessed: false });\r\n            this.openPopup(\"Server failure!\");\r\n            return null;\r\n          }\r\n          return res.json();\r\n        })\r\n        .then((res) => {\r\n          if (res) {\r\n            if (res.status === 200) {\r\n              this.processResponse(res.result);\r\n            } else if (res.message === \"Extension\") {\r\n              this.setState({ inputProcessed: false });\r\n              this.openPopup(\r\n                \"Incorrect extension! Upload .wav and .mp3 files.\"\r\n              );\r\n            } else if (res.message === \"Model\") {\r\n              this.setState({ inputProcessed: false });\r\n              this.openPopup(\"Model failure!\");\r\n            }\r\n          }\r\n        });\r\n    } else {\r\n      this.openPopup(\"Choose a file!\");\r\n    }\r\n  }\r\n\r\n  mapSliderValue(x) {\r\n    return 0.5 + 0.5 * x;\r\n  }\r\n\r\n  handleSlider(event) {\r\n    this.setState({\r\n      sliderValue: event.target.value,\r\n    });\r\n  }\r\n\r\n  showMenu() {\r\n    // toggle the menu view\r\n    this.setState(\r\n      {\r\n        menu: !this.state.menu,\r\n      },\r\n      () => {\r\n        if (this.state.menu) {\r\n          if (this.theme === \"light\" && this.themeSlider.current)\r\n            this.themeSlider.current.checked = true;\r\n          else if (this.theme === \"dark\" && this.themeSlider.current) {\r\n            this.themeSlider.current.checked = false;\r\n          }\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  openPopup(text) {\r\n    this.setState({\r\n      popup: true,\r\n      popupText: text,\r\n    });\r\n  }\r\n\r\n  closePopup() {\r\n    this.setState({\r\n      popup: false,\r\n      popupText: \"\",\r\n    });\r\n  }\r\n\r\n  modelLoaded() {\r\n    this.setState({\r\n      mounted: true,\r\n    });\r\n  }\r\n\r\n  themeHandler(e) {\r\n    if (e.target.checked) this.setTheme(\"light\");\r\n    else this.setTheme(\"dark\");\r\n  }\r\n\r\n  setProgress(p) {\r\n    this.setState({\r\n      progress: p,\r\n    });\r\n  }\r\n\r\n  setTheme(newTheme) {\r\n    // set the colors corresponding to the current theme\r\n    if (newTheme !== this.theme) {\r\n      this.theme = newTheme;\r\n    }\r\n    this.props.setTheme(this.theme);\r\n    if (this.theme === \"light\") {\r\n      document.body.style.setProperty(\"--primary\", lightBg);\r\n      document.body.style.setProperty(\"--secondary\", lightFont);\r\n      document.body.style.setProperty(\"--focus\", lightFocus);\r\n      document.body.style.setProperty(\"--back1\", lightBack1);\r\n      document.body.style.setProperty(\"--back2\", lightBack2);\r\n    } else {\r\n      document.body.style.setProperty(\"--primary\", darkBg);\r\n      document.body.style.setProperty(\"--secondary\", darkFont);\r\n      document.body.style.setProperty(\"--focus\", darkFocus);\r\n      document.body.style.setProperty(\"--back1\", darkBack1);\r\n      document.body.style.setProperty(\"--back2\", darkBack2);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Transition timeout={500} in={this.state.mounted}>\r\n        {(state) => (\r\n          <div\r\n            style={{\r\n              ...defaultStyleMount,\r\n              ...transitionStyles[state],\r\n            }}\r\n          >\r\n            <div id=\"view-container\">\r\n              <Transition timeout={300} in={this.state.popup}>\r\n                {(state) => (\r\n                  <div\r\n                    style={{\r\n                      ...defaultStyle,\r\n                      ...transitionStyles[state],\r\n                    }}\r\n                  >\r\n                    {this.state.popup && (\r\n                      <div className=\"background\">\r\n                        <div className=\"popup\">\r\n                          <div id=\"popup-text\">{this.state.popupText}</div>\r\n                          <button\r\n                            id=\"popup-close\"\r\n                            className=\"styled-button\"\r\n                            onClick={this.closePopup}\r\n                          >\r\n                            X\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Transition>\r\n\r\n              <Transition\r\n                timeout={300}\r\n                in={this.state.inputProcessed === undefined}\r\n              >\r\n                {(state) => (\r\n                  <div\r\n                    style={{\r\n                      ...defaultStyle,\r\n                      ...transitionStyles[state],\r\n                    }}\r\n                  >\r\n                    {this.state.inputProcessed === undefined && (\r\n                      <div className=\"background\">\r\n                        <div className=\"loader\"></div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Transition>\r\n\r\n              <Transition timeout={300} in={this.state.infoPopup}>\r\n                {(state) => (\r\n                  <div\r\n                    style={{\r\n                      ...defaultStyle,\r\n                      ...transitionStyles[state],\r\n                    }}\r\n                  >\r\n                    {this.state.infoPopup && (\r\n                      <div className=\"background\">\r\n                        <div className=\"popup\">\r\n                          <div id=\"info-head\">\r\n                            Audio-driven facial animation\r\n                          </div>\r\n                          <div id=\"info-authors\">\r\n                            Authors: Małgorzata Nowicka, Filip Zawadka\r\n                          </div>\r\n                          <div id=\"info-text\">\r\n                            This application is a realization of the author's\r\n                            Bachelor's thesis project at the Warsaw University\r\n                            of Technology. It generates animation for given\r\n                            speech recording. The application integrates the\r\n                            trained long short-term memory neural network model,\r\n                            residing on the remote server.\r\n                          </div>\r\n                          <div id=\"info-inst-head\">Instruction:</div>\r\n                          <div id=\"info-inst\">\r\n                            Press the icon in the top-left corner to display the\r\n                            menu.\r\n                          </div>\r\n                          <div id=\"info-inst\">\r\n                            Press <b>Choose file</b> to upload a <b>wav</b> or{\" \"}\r\n                            <b>mp3</b> audio file with speech. Press{\" \"}\r\n                            <b>Record</b> to record the speech in real-time.\r\n                          </div>\r\n                          <div id=\"info-inst\">\r\n                            Press <b>Upload</b> to send the speech recording to\r\n                            the server.\r\n                          </div>\r\n                          <div id=\"info-inst\">\r\n                            When the model is performing the computations on the\r\n                            server, a loading spinner is displayed. Wait until\r\n                            it disappears.\r\n                          </div>\r\n                          <div id=\"info-inst\">\r\n                            The <b>player</b> options in the bottom-left corner\r\n                            handle the animation. Change the intensity of the\r\n                            avatar's expression with the <b>slider</b>.\r\n                          </div>\r\n                          <button\r\n                            id=\"popup-close\"\r\n                            className=\"styled-button\"\r\n                            onClick={(e) => this.setState({ infoPopup: false })}\r\n                          >\r\n                            X\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Transition>\r\n\r\n              <button\r\n                id=\"info-button\"\r\n                className=\"styled-button\"\r\n                onClick={(e) => this.setState({ infoPopup: true })}\r\n              >\r\n                &#9432;\r\n              </button>\r\n              <button\r\n                id=\"logout-button\"\r\n                className=\"styled-button right\"\r\n                onClick={logout}\r\n              >\r\n                <i className=\"fa fa-power-off logout\"></i>\r\n              </button>\r\n\r\n              <div id=\"menu-icon\" onClick={this.showMenu}>\r\n                <div className=\"menu-bar\"></div>\r\n                <div className=\"menu-bar\"></div>\r\n                <div className=\"menu-bar\"></div>\r\n              </div>\r\n\r\n              <Transition timeout={300} in={this.state.menu}>\r\n                {(state) => (\r\n                  <div\r\n                    style={{\r\n                      ...defaultStyle,\r\n                      ...transitionStyles[state],\r\n                    }}\r\n                  >\r\n                    {this.state.menu && (\r\n                      <div id=\"main-container\">\r\n                        <label class=\"switch\">\r\n                          <div id=\"dark\">Dark</div>\r\n                          <div className=\"span\"></div>\r\n                          <input\r\n                            type=\"checkbox\"\r\n                            onChange={this.themeHandler}\r\n                            ref={this.themeSlider}\r\n                          />\r\n                          <span class=\"slider round\"></span>\r\n                          <div>Light</div>\r\n                        </label>\r\n                        <label id=\"choose-file\" className=\"horizontal vert\">\r\n                          <div className=\"styled-button\">Choose file</div>\r\n\r\n                          <input\r\n                            id=\"choose-file\"\r\n                            type=\"file\"\r\n                            accept=\"audio/wav, audio/mp3\"\r\n                            onChange={this.handleFile}\r\n                            multiple={false}\r\n                          />\r\n                        </label>\r\n                        <div className=\"recorder\">\r\n                          <AudioRecorder\r\n                            id=\"audio-recorder\"\r\n                            newRecording={this.handleRecording}\r\n                            theme={this.theme}\r\n                          />\r\n                        </div>\r\n\r\n                        <div id=\"chosen-file\">{this.state.filename}</div>\r\n                        <button\r\n                          id=\"upload-button\"\r\n                          className=\"styled-button narrow\"\r\n                          onClick={this.sendFile}\r\n                        >\r\n                          Upload\r\n                        </button>\r\n                        \r\n                        \r\n                        \r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Transition>\r\n              <div className=\"bottom horizontal\">\r\n                          <button\r\n                            id=\"play\"\r\n                            className=\"player styled-button\"\r\n                            onClick={this.playAnimation}\r\n                          >\r\n                             <i class=\"fa fa-play\"></i>\r\n                          </button>\r\n                          <button\r\n                            id=\"pause\"\r\n                            className=\"player styled-button\"\r\n                            onClick={this.pauseAnimation}\r\n                          >\r\n                            <i class=\"fa fa-pause\"></i>\r\n                          </button>\r\n                          <button\r\n                            id=\"stop\"\r\n                            className=\"player styled-button\"\r\n                            onClick={this.stopAnimation}\r\n                          >\r\n                            <i class=\"fa fa-stop\"></i>\r\n                          </button>\r\n                          <progress id=\"progress\" max=\"1\" value={this.state.progress}></progress>\r\n                        </div>\r\n                        <div id=\"exp-int\">\r\n                          Expression <br /> intensity: \r\n                        </div>\r\n                        <div className=\"slider-container\">\r\n                          <div id=\"slider-value\">{this.state.sliderValue}</div>\r\n                          <input\r\n                          type=\"range\"\r\n                          id=\"slider\"\r\n                          min={0}\r\n                          max={1}\r\n                          value={this.state.sliderValue}\r\n                          step={0.05}\r\n                          onChange={this.handleSlider}\r\n                        />\r\n                        {!this.state.popup && (\r\n                          <progress\r\n                            id=\"progress\"\r\n                            max=\"1\"\r\n                            value={this.state.progress}\r\n                          ></progress>\r\n                        )}\r\n                        </div>\r\n                        <Model\r\n                id=\"model\"\r\n                animationStatus={this.state.animationStatus}\r\n                visemes={this.state.visemes}\r\n                sliderValue={this.mapSliderValue(this.state.sliderValue)}\r\n                mounted={this.modelLoaded}\r\n                theme={this.theme}\r\n                setProgress={this.setProgress}\r\n                audio={this.audio}\r\n                stopAnimation={this.stopAnimation}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nexport default View;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAO,gBAAgB;AACvB,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,aAAa,MAAM,oBAAoB;AAC9C,OAAO,kBAAkB;AACzB,OAAO,kBAAkB;AACzB,OAAO,oBAAoB;AAC3B,SAASC,UAAU,QAAQ,wBAAwB;AACnD,SAASC,KAAK,EAAEC,SAAS,EAAEC,OAAO,EAAEC,MAAM,QAAQ,SAAS;AAC3D,SACEC,WAAW,EACXC,GAAG,EACHC,gBAAgB,EAChBC,YAAY,EACZC,iBAAiB,EACjBC,MAAM,EACNC,QAAQ,EACRC,SAAS,EACTC,OAAO,EACPC,SAAS,EACTC,UAAU,EACVC,SAAS,EACTC,SAAS,EACTC,UAAU,EACVC,UAAU,QACL,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtB,MAAMC,IAAI,SAASzB,SAAS,CAAC;EAC3B0B,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,KAAK,GAAG;MACXC,IAAI,EAAEC,SAAS;MACfC,eAAe,EAAE,MAAM;MACvBC,OAAO,EAAEF,SAAS;MAClBG,cAAc,EAAE,KAAK;MACrBC,WAAW,EAAE,IAAI;MACjBC,KAAK,EAAE,KAAK;MACZC,OAAO,EAAE,KAAK;MACdC,SAAS,EAAE,EAAE;MACbC,IAAI,EAAE,KAAK;MACXC,QAAQ,EAAE;IACZ,CAAC;IAED,IAAI,CAACC,KAAK,GAAG,IAAI,CAACb,KAAK,CAACa,KAAK;IAC7B,IAAI,CAACC,WAAW,gBAAG1C,KAAK,CAAC2C,SAAS,CAAC,CAAC;IAEpC,IAAI,CAACC,IAAI,GAAG,IAAI;IAChB,IAAI,CAACC,KAAK,GAAG,CAAC;IAEd,IAAI,CAACC,kBAAkB,GAAG,KAAK;IAE/B,IAAI,CAACC,YAAY,GAAG,CAAC;IAErB,IAAI,CAACC,OAAO,GAAG,GAAG;IAClB,IAAI,CAACC,QAAQ,GAAG,GAAG;IACnB,IAAI,CAACC,OAAO,GAAG,CAAC;IAEhB,IAAI,CAACC,IAAI,GAAG,IAAI,CAACA,IAAI,CAACC,IAAI,CAAC,IAAI,CAAC;IAChC,IAAI,CAACC,KAAK,GAAG,IAAI,CAACA,KAAK,CAACD,IAAI,CAAC,IAAI,CAAC;IAClC,IAAI,CAACE,IAAI,GAAG,IAAI,CAACA,IAAI,CAACF,IAAI,CAAC,IAAI,CAAC;IAChC,IAAI,CAACG,eAAe,GAAG,IAAI,CAACA,eAAe,CAACH,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAACI,UAAU,GAAG,IAAI,CAACA,UAAU,CAACJ,IAAI,CAAC,IAAI,CAAC;IAC5C,IAAI,CAACK,aAAa,GAAG,IAAI,CAACA,aAAa,CAACL,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACM,cAAc,GAAG,IAAI,CAACA,cAAc,CAACN,IAAI,CAAC,IAAI,CAAC;IACpD,IAAI,CAACO,aAAa,GAAG,IAAI,CAACA,aAAa,CAACP,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACQ,UAAU,GAAG,IAAI,CAACA,UAAU,CAACR,IAAI,CAAC,IAAI,CAAC;IAC5C,IAAI,CAACS,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACT,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACU,YAAY,GAAG,IAAI,CAACA,YAAY,CAACV,IAAI,CAAC,IAAI,CAAC;IAChD,IAAI,CAACW,eAAe,GAAG,IAAI,CAACA,eAAe,CAACX,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAACY,SAAS,GAAG,IAAI,CAACA,SAAS,CAACZ,IAAI,CAAC,IAAI,CAAC;IAC1C,IAAI,CAACa,UAAU,GAAG,IAAI,CAACA,UAAU,CAACb,IAAI,CAAC,IAAI,CAAC;IAC5C,IAAI,CAACc,WAAW,GAAG,IAAI,CAACA,WAAW,CAACd,IAAI,CAAC,IAAI,CAAC;IAC9C,IAAI,CAACe,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACf,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACgB,YAAY,GAAG,IAAI,CAACA,YAAY,CAAChB,IAAI,CAAC,IAAI,CAAC;IAChD,IAAI,CAACiB,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAACjB,IAAI,CAAC,IAAI,CAAC;IACxC,IAAI,CAACkB,WAAW,GAAG,IAAI,CAACA,WAAW,CAAClB,IAAI,CAAC,IAAI,CAAC;EAChD;EAEAmB,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACf,UAAU,CAAC,CAAC;IAEjB,IAAI,IAAI,CAACf,KAAK,KAAK,OAAO,IAAI,IAAI,CAACC,WAAW,CAAC8B,OAAO,EACpD,IAAI,CAAC9B,WAAW,CAAC8B,OAAO,CAACC,OAAO,GAAG,IAAI;IACzC,IAAI,CAACN,QAAQ,CAAC,IAAI,CAAC1B,KAAK,CAAC;IACzB,IAAI,CAACiC,KAAK,GAAG,IAAIC,KAAK,CAAC,CAAC;IACxB,IAAI,CAACD,KAAK,CAACE,IAAI,GAAG,KAAK;EACzB;EAEAC,kBAAkBA,CAAA,EAAG,CAAE;EAEvBrB,UAAUA,CAAA,EAAG;IACX;IACAsB,KAAK,CAAC,WAAW,CAAC,CACfC,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,IAAK;MACdC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACnB,CAAC,CAAC;EACN;EAEAG,iBAAiBA,CAACC,MAAM,EAAEC,MAAM,EAAE;IAChC,OAAOC,IAAI,CAACC,IAAI,CACdD,IAAI,CAACE,GAAG,CAACJ,MAAM,CAAC,CAAC,CAAC,GAAGC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAGC,IAAI,CAACE,GAAG,CAACJ,MAAM,CAAC,CAAC,CAAC,GAAGC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CACxE,CAAC;EACH;EAEAhC,eAAeA,CAACoC,QAAQ,EAAE;IACxB;IACA,MAAMC,IAAI,GAAG,IAAI,GAAGnF,WAAW,GAAGC,GAAG;IACrC,IAAImF,MAAM,GAAG,EAAE;MACbC,KAAK,GAAG/D,SAAS;MACjBgE,CAAC,GAAGhE,SAAS;IACf,KAAK,IAAIiE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,QAAQ,CAACM,MAAM,EAAED,CAAC,IAAIJ,IAAI,EAAE;MAC9C;MACAE,KAAK,GAAGH,QAAQ,CAACO,KAAK,CAACF,CAAC,EAAEA,CAAC,GAAGJ,IAAI,CAAC,CAAC,CAAC,CAAC;MACtCC,MAAM,CAACM,IAAI,CAACL,KAAK,CAAC;MAElBC,CAAC,GAAGF,MAAM,CAACI,MAAM,GAAG,CAAC;MACrB,IAAIF,CAAC,IAAI,CAAC,EAAE;QACV;QACA,IAAIF,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,KAAKF,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,IAAIF,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC,KAAKF,MAAM,CAACE,CAAC,CAAC,EAAE;UAClEF,MAAM,CAACA,MAAM,CAACI,MAAM,GAAG,CAAC,CAAC,GAAGJ,MAAM,CAACA,MAAM,CAACI,MAAM,GAAG,CAAC,CAAC;QACvD;MACF;IACF;IACA,IAAI,CAACG,QAAQ,CAAC;MACZnE,OAAO,EAAE4D,MAAM;MACf3D,cAAc,EAAE;IAClB,CAAC,CAAC;EACJ;EAEAmE,UAAUA,CAACC,KAAK,EAAE;IAChB,IAAIA,KAAK,CAACL,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;IACnC,IAAIM,OAAO,GAAG,CAAC,CAAC;IAChB,IAAIC,KAAK,GAAGF,KAAK,CAAC,CAAC,CAAC;MAClBG,QAAQ,GAAG,CAAC;IACd,KAAK,IAAIT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGM,KAAK,CAACL,MAAM,EAAED,CAAC,EAAE,EAAE;MACrC,IAAIU,EAAE,GAAGJ,KAAK,CAACN,CAAC,CAAC;MACjB,IAAIO,OAAO,CAACG,EAAE,CAAC,IAAI,IAAI,EAAEH,OAAO,CAACG,EAAE,CAAC,GAAG,CAAC,CAAC,KACpCH,OAAO,CAACG,EAAE,CAAC,EAAE;MAClB,IAAIH,OAAO,CAACG,EAAE,CAAC,GAAGD,QAAQ,EAAE;QAC1BD,KAAK,GAAGE,EAAE;QACVD,QAAQ,GAAGF,OAAO,CAACG,EAAE,CAAC;MACxB;IACF;IACA,OAAOF,KAAK;EACd;EAEAlD,IAAIA,CAAA,EAAG;IACL;IACA,IACE,IAAI,CAACzB,KAAK,CAACG,eAAe,KAAK,MAAM,IACrC,IAAI,CAACH,KAAK,CAACG,eAAe,KAAK,OAAO,EACtC;MACA,IAAI,CAAC0C,KAAK,CAACrB,KAAK,CAAC,CAAC;MAClB,IAAI,CAACqB,KAAK,CAACiC,WAAW,GAAG,CAAC;MAC1B,IAAI,CAACP,QAAQ,CAAC;QAAEpE,eAAe,EAAE;MAAO,CAAC,CAAC;IAC5C;EACF;EAEAmB,IAAIA,CAAA,EAAG;IACL;IACA,IACE,IAAI,CAACtB,KAAK,CAACG,eAAe,KAAK,MAAM,IACrC,IAAI,CAACH,KAAK,CAACG,eAAe,KAAK,OAAO,EACtC;MACA,IAAI,CAAC0C,KAAK,CAACvB,IAAI,CAAC,CAAC;MACjB,IAAI,CAACiD,QAAQ,CAAC;QAAEpE,eAAe,EAAE;MAAO,CAAC,CAAC;IAC5C;EACF;EAEAqB,KAAKA,CAAA,EAAG;IACN;IACA,IAAI,IAAI,CAACxB,KAAK,CAACG,eAAe,KAAK,MAAM,EAAE;MACzC,IAAI,CAAC0C,KAAK,CAACrB,KAAK,CAAC,CAAC;MAClB,IAAI,CAAC+C,QAAQ,CAAC;QAAEpE,eAAe,EAAE;MAAQ,CAAC,CAAC;IAC7C;EACF;EAEAyB,aAAaA,CAAA,EAAG;IACd;IACA,IAAI,CAAC,IAAI,CAAC5B,KAAK,CAACK,cAAc,EAAE;MAC9B,IAAI,CAAC8B,SAAS,CAAC,sCAAsC,CAAC;IACxD,CAAC,MAAM;MACL,IAAI,CAACb,IAAI,CAAC,CAAC;IACb;EACF;EAEAQ,aAAaA,CAAA,EAAG;IACd;IACA,IAAI,CAAC,IAAI,CAAC9B,KAAK,CAACK,cAAc,EAAE;MAC9B,IAAI,CAAC8B,SAAS,CAAC,sCAAsC,CAAC;IACxD,CAAC,MAAM;MACL,IAAI,CAACV,IAAI,CAAC,CAAC;IACb;EACF;EAEAI,cAAcA,CAAA,EAAG;IACf;IACA,IAAI,CAAC,IAAI,CAAC7B,KAAK,CAACK,cAAc,EAAE;MAC9B,IAAI,CAAC8B,SAAS,CAAC,sCAAsC,CAAC;IACxD,CAAC,MAAM;MACL,IAAI,CAACX,KAAK,CAAC,CAAC;IACd;EACF;EAEAO,UAAUA,CAACgD,KAAK,EAAE;IAChB;IACA,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,CAACb,MAAM,GAAG,CAAC,EAAE;MACjC,IAAIc,QAAQ,GAAGH,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;MACpC,IAAIE,UAAU,GAAGC,GAAG,CAACC,eAAe,CAACH,QAAQ,CAAC;MAE9C,IAAI,CAACzD,IAAI,CAAC,CAAC;MACX,IAAI,CAAC8C,QAAQ,CAAC;QACZtE,IAAI,EAAEiF,QAAQ;QACd7E,cAAc,EAAE,KAAK;QACrBiF,QAAQ,EAAEJ,QAAQ,CAACK;MACrB,CAAC,CAAC;MACF,IAAI,CAAC1C,KAAK,CAAC2C,GAAG,GAAGL,UAAU;IAC7B;EACF;EAEAjD,eAAeA,CAACuD,SAAS,EAAE;IACzB;IACA,IAAI,CAAChE,IAAI,CAAC,CAAC;IACX,IAAI,CAAC8C,QAAQ,CAAC;MACZtE,IAAI,EAAEwF,SAAS;MACfpF,cAAc,EAAE,KAAK;MACrBiF,QAAQ,EAAE;IACZ,CAAC,CAAC;IACF,IAAI,CAACzC,KAAK,CAAC2C,GAAG,GAAGJ,GAAG,CAACC,eAAe,CAACI,SAAS,CAAC;IAE/CnC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACvD,KAAK,CAACC,IAAI,EAAE,IAAI,CAAC4C,KAAK,CAAC2C,GAAG,CAAC;EAC9C;EAEA,MAAMxD,QAAQA,CAAA,EAAG;IACf;IACA,IAAI,IAAI,CAAChC,KAAK,CAACC,IAAI,EAAE;MACnB;MACA,MAAMoD,IAAI,GAAG,IAAIqC,QAAQ,CAAC,CAAC;MAC3BrC,IAAI,CAACsC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC3F,KAAK,CAACC,IAAI,CAAC;MAEpC,IAAI,CAACsE,QAAQ,CAAC;QAAElE,cAAc,EAAEH;MAAU,CAAC,CAAC;MAC5C,IAAI,CAACuB,IAAI,CAAC,CAAC;;MAEX;MACAhD,SAAS,CAAC,kCAAkC,EAAE;QAAEmH,MAAM,EAAE,MAAM;QAAEC,IAAI,EAAExC;MAAK,CAAC;MAC1E;MAAA,CACCH,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,CAAC2C,MAAM,KAAK,GAAG,EAAE;UACtB,IAAI,CAACvB,QAAQ,CAAC;YAAElE,cAAc,EAAE;UAAM,CAAC,CAAC;UACxC,IAAI,CAAC8B,SAAS,CAAC,8BAA8B,CAAC;UAC9C,OAAO,IAAI;QACb,CAAC,MAAM,IAAIgB,GAAG,CAAC2C,MAAM,KAAK,GAAG,EAAE;UAC7B,IAAI,CAACvB,QAAQ,CAAC;YAAElE,cAAc,EAAE;UAAM,CAAC,CAAC;UACxC,IAAI,CAAC8B,SAAS,CAAC,iBAAiB,CAAC;UACjC,OAAO,IAAI;QACb;QACA,OAAOgB,GAAG,CAACC,IAAI,CAAC,CAAC;MACnB,CAAC,CAAC,CACDF,IAAI,CAAEC,GAAG,IAAK;QACb,IAAIA,GAAG,EAAE;UACP,IAAIA,GAAG,CAAC2C,MAAM,KAAK,GAAG,EAAE;YACtB,IAAI,CAACpE,eAAe,CAACyB,GAAG,CAACa,MAAM,CAAC;UAClC,CAAC,MAAM,IAAIb,GAAG,CAAC4C,OAAO,KAAK,WAAW,EAAE;YACtC,IAAI,CAACxB,QAAQ,CAAC;cAAElE,cAAc,EAAE;YAAM,CAAC,CAAC;YACxC,IAAI,CAAC8B,SAAS,CACZ,kDACF,CAAC;UACH,CAAC,MAAM,IAAIgB,GAAG,CAAC4C,OAAO,KAAK,OAAO,EAAE;YAClC,IAAI,CAACxB,QAAQ,CAAC;cAAElE,cAAc,EAAE;YAAM,CAAC,CAAC;YACxC,IAAI,CAAC8B,SAAS,CAAC,gBAAgB,CAAC;UAClC;QACF;MACF,CAAC,CAAC;IACN,CAAC,MAAM;MACL,IAAI,CAACA,SAAS,CAAC,gBAAgB,CAAC;IAClC;EACF;EAEA6D,cAAcA,CAACC,CAAC,EAAE;IAChB,OAAO,GAAG,GAAG,GAAG,GAAGA,CAAC;EACtB;EAEAhE,YAAYA,CAAC8C,KAAK,EAAE;IAClB,IAAI,CAACR,QAAQ,CAAC;MACZjE,WAAW,EAAEyE,KAAK,CAACC,MAAM,CAACkB;IAC5B,CAAC,CAAC;EACJ;EAEA1D,QAAQA,CAAA,EAAG;IACT;IACA,IAAI,CAAC+B,QAAQ,CACX;MACE7D,IAAI,EAAE,CAAC,IAAI,CAACV,KAAK,CAACU;IACpB,CAAC,EACD,MAAM;MACJ,IAAI,IAAI,CAACV,KAAK,CAACU,IAAI,EAAE;QACnB,IAAI,IAAI,CAACE,KAAK,KAAK,OAAO,IAAI,IAAI,CAACC,WAAW,CAAC8B,OAAO,EACpD,IAAI,CAAC9B,WAAW,CAAC8B,OAAO,CAACC,OAAO,GAAG,IAAI,CAAC,KACrC,IAAI,IAAI,CAAChC,KAAK,KAAK,MAAM,IAAI,IAAI,CAACC,WAAW,CAAC8B,OAAO,EAAE;UAC1D,IAAI,CAAC9B,WAAW,CAAC8B,OAAO,CAACC,OAAO,GAAG,KAAK;QAC1C;MACF;IACF,CACF,CAAC;EACH;EAEAT,SAASA,CAACgE,IAAI,EAAE;IACd,IAAI,CAAC5B,QAAQ,CAAC;MACZhE,KAAK,EAAE,IAAI;MACXE,SAAS,EAAE0F;IACb,CAAC,CAAC;EACJ;EAEA/D,UAAUA,CAAA,EAAG;IACX,IAAI,CAACmC,QAAQ,CAAC;MACZhE,KAAK,EAAE,KAAK;MACZE,SAAS,EAAE;IACb,CAAC,CAAC;EACJ;EAEA4B,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACkC,QAAQ,CAAC;MACZ/D,OAAO,EAAE;IACX,CAAC,CAAC;EACJ;EAEA+B,YAAYA,CAAC6D,CAAC,EAAE;IACd,IAAIA,CAAC,CAACpB,MAAM,CAACpC,OAAO,EAAE,IAAI,CAACN,QAAQ,CAAC,OAAO,CAAC,CAAC,KACxC,IAAI,CAACA,QAAQ,CAAC,MAAM,CAAC;EAC5B;EAEAG,WAAWA,CAAC4D,CAAC,EAAE;IACb,IAAI,CAAC9B,QAAQ,CAAC;MACZ5D,QAAQ,EAAE0F;IACZ,CAAC,CAAC;EACJ;EAEA/D,QAAQA,CAACgE,QAAQ,EAAE;IACjB;IACA,IAAIA,QAAQ,KAAK,IAAI,CAAC1F,KAAK,EAAE;MAC3B,IAAI,CAACA,KAAK,GAAG0F,QAAQ;IACvB;IACA,IAAI,CAACvG,KAAK,CAACuC,QAAQ,CAAC,IAAI,CAAC1B,KAAK,CAAC;IAC/B,IAAI,IAAI,CAACA,KAAK,KAAK,OAAO,EAAE;MAC1B2F,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,WAAW,EAAErH,OAAO,CAAC;MACrDmH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,aAAa,EAAEpH,SAAS,CAAC;MACzDkH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,SAAS,EAAEnH,UAAU,CAAC;MACtDiH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,SAAS,EAAEhH,UAAU,CAAC;MACtD8G,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,SAAS,EAAE/G,UAAU,CAAC;IACxD,CAAC,MAAM;MACL6G,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,WAAW,EAAExH,MAAM,CAAC;MACpDsH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,aAAa,EAAEvH,QAAQ,CAAC;MACxDqH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,SAAS,EAAEtH,SAAS,CAAC;MACrDoH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,SAAS,EAAElH,SAAS,CAAC;MACrDgH,QAAQ,CAACV,IAAI,CAACW,KAAK,CAACC,WAAW,CAAC,SAAS,EAAEjH,SAAS,CAAC;IACvD;EACF;EAEAkH,MAAMA,CAAA,EAAG;IACP,oBACE9G,OAAA,CAACrB,UAAU;MAACoI,OAAO,EAAE,GAAI;MAACC,EAAE,EAAE,IAAI,CAAC5G,KAAK,CAACQ,OAAQ;MAAAqG,QAAA,EAC7C7G,KAAK,iBACLJ,OAAA;QACE4G,KAAK,EAAE;UACL,GAAGxH,iBAAiB;UACpB,GAAGF,gBAAgB,CAACkB,KAAK;QAC3B,CAAE;QAAA6G,QAAA,eAEFjH,OAAA;UAAKkH,EAAE,EAAC,gBAAgB;UAAAD,QAAA,gBACtBjH,OAAA,CAACrB,UAAU;YAACoI,OAAO,EAAE,GAAI;YAACC,EAAE,EAAE,IAAI,CAAC5G,KAAK,CAACO,KAAM;YAAAsG,QAAA,EAC3C7G,KAAK,iBACLJ,OAAA;cACE4G,KAAK,EAAE;gBACL,GAAGzH,YAAY;gBACf,GAAGD,gBAAgB,CAACkB,KAAK;cAC3B,CAAE;cAAA6G,QAAA,EAED,IAAI,CAAC7G,KAAK,CAACO,KAAK,iBACfX,OAAA;gBAAKmH,SAAS,EAAC,YAAY;gBAAAF,QAAA,eACzBjH,OAAA;kBAAKmH,SAAS,EAAC,OAAO;kBAAAF,QAAA,gBACpBjH,OAAA;oBAAKkH,EAAE,EAAC,YAAY;oBAAAD,QAAA,EAAE,IAAI,CAAC7G,KAAK,CAACS;kBAAS;oBAAAuG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eACjDvH,OAAA;oBACEkH,EAAE,EAAC,aAAa;oBAChBC,SAAS,EAAC,eAAe;oBACzBK,OAAO,EAAE,IAAI,CAAChF,UAAW;oBAAAyE,QAAA,EAC1B;kBAED;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS,CAAC,eAEbvH,OAAA,CAACrB,UAAU;YACToI,OAAO,EAAE,GAAI;YACbC,EAAE,EAAE,IAAI,CAAC5G,KAAK,CAACK,cAAc,KAAKH,SAAU;YAAA2G,QAAA,EAE1C7G,KAAK,iBACLJ,OAAA;cACE4G,KAAK,EAAE;gBACL,GAAGzH,YAAY;gBACf,GAAGD,gBAAgB,CAACkB,KAAK;cAC3B,CAAE;cAAA6G,QAAA,EAED,IAAI,CAAC7G,KAAK,CAACK,cAAc,KAAKH,SAAS,iBACtCN,OAAA;gBAAKmH,SAAS,EAAC,YAAY;gBAAAF,QAAA,eACzBjH,OAAA;kBAAKmH,SAAS,EAAC;gBAAQ;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS,CAAC,eAEbvH,OAAA,CAACrB,UAAU;YAACoI,OAAO,EAAE,GAAI;YAACC,EAAE,EAAE,IAAI,CAAC5G,KAAK,CAACqH,SAAU;YAAAR,QAAA,EAC/C7G,KAAK,iBACLJ,OAAA;cACE4G,KAAK,EAAE;gBACL,GAAGzH,YAAY;gBACf,GAAGD,gBAAgB,CAACkB,KAAK;cAC3B,CAAE;cAAA6G,QAAA,EAED,IAAI,CAAC7G,KAAK,CAACqH,SAAS,iBACnBzH,OAAA;gBAAKmH,SAAS,EAAC,YAAY;gBAAAF,QAAA,eACzBjH,OAAA;kBAAKmH,SAAS,EAAC,OAAO;kBAAAF,QAAA,gBACpBjH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,EAAC;kBAEpB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,cAAc;oBAAAD,QAAA,EAAC;kBAEvB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,EAAC;kBAOpB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,gBAAgB;oBAAAD,QAAA,EAAC;kBAAY;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC3CvH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,EAAC;kBAGpB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,GAAC,QACZ,eAAAjH,OAAA;sBAAAiH,QAAA,EAAG;oBAAW;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,iBAAa,eAAAvH,OAAA;sBAAAiH,QAAA,EAAG;oBAAG;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,OAAG,EAAC,GAAG,eACtDvH,OAAA;sBAAAiH,QAAA,EAAG;oBAAG;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,kCAA8B,EAAC,GAAG,eAC5CvH,OAAA;sBAAAiH,QAAA,EAAG;oBAAM;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,uCACf;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,GAAC,QACZ,eAAAjH,OAAA;sBAAAiH,QAAA,EAAG;oBAAM;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,gDAErB;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,EAAC;kBAIpB;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBAAKkH,EAAE,EAAC,WAAW;oBAAAD,QAAA,GAAC,MACd,eAAAjH,OAAA;sBAAAiH,QAAA,EAAG;oBAAM;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,sHAEY,eAAAvH,OAAA;sBAAAiH,QAAA,EAAG;oBAAM;sBAAAG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAG,CAAC,KAC5C;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACNvH,OAAA;oBACEkH,EAAE,EAAC,aAAa;oBAChBC,SAAS,EAAC,eAAe;oBACzBK,OAAO,EAAGhB,CAAC,IAAK,IAAI,CAAC7B,QAAQ,CAAC;sBAAE8C,SAAS,EAAE;oBAAM,CAAC,CAAE;oBAAAR,QAAA,EACrD;kBAED;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS,CAAC,eAEbvH,OAAA;YACEkH,EAAE,EAAC,aAAa;YAChBC,SAAS,EAAC,eAAe;YACzBK,OAAO,EAAGhB,CAAC,IAAK,IAAI,CAAC7B,QAAQ,CAAC;cAAE8C,SAAS,EAAE;YAAK,CAAC,CAAE;YAAAR,QAAA,EACpD;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTvH,OAAA;YACEkH,EAAE,EAAC,eAAe;YAClBC,SAAS,EAAC,qBAAqB;YAC/BK,OAAO,EAAEzI,MAAO;YAAAkI,QAAA,eAEhBjH,OAAA;cAAGmH,SAAS,EAAC;YAAwB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,eAETvH,OAAA;YAAKkH,EAAE,EAAC,WAAW;YAACM,OAAO,EAAE,IAAI,CAAC5E,QAAS;YAAAqE,QAAA,gBACzCjH,OAAA;cAAKmH,SAAS,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChCvH,OAAA;cAAKmH,SAAS,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAChCvH,OAAA;cAAKmH,SAAS,EAAC;YAAU;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B,CAAC,eAENvH,OAAA,CAACrB,UAAU;YAACoI,OAAO,EAAE,GAAI;YAACC,EAAE,EAAE,IAAI,CAAC5G,KAAK,CAACU,IAAK;YAAAmG,QAAA,EAC1C7G,KAAK,iBACLJ,OAAA;cACE4G,KAAK,EAAE;gBACL,GAAGzH,YAAY;gBACf,GAAGD,gBAAgB,CAACkB,KAAK;cAC3B,CAAE;cAAA6G,QAAA,EAED,IAAI,CAAC7G,KAAK,CAACU,IAAI,iBACdd,OAAA;gBAAKkH,EAAE,EAAC,gBAAgB;gBAAAD,QAAA,gBACtBjH,OAAA;kBAAO0H,KAAK,EAAC,QAAQ;kBAAAT,QAAA,gBACnBjH,OAAA;oBAAKkH,EAAE,EAAC,MAAM;oBAAAD,QAAA,EAAC;kBAAI;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eACzBvH,OAAA;oBAAKmH,SAAS,EAAC;kBAAM;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM,CAAC,eAC5BvH,OAAA;oBACE2H,IAAI,EAAC,UAAU;oBACfC,QAAQ,EAAE,IAAI,CAACjF,YAAa;oBAC5BkF,GAAG,EAAE,IAAI,CAAC5G;kBAAY;oBAAAmG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACvB,CAAC,eACFvH,OAAA;oBAAM0H,KAAK,EAAC;kBAAc;oBAAAN,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO,CAAC,eAClCvH,OAAA;oBAAAiH,QAAA,EAAK;kBAAK;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACX,CAAC,eACRvH,OAAA;kBAAOkH,EAAE,EAAC,aAAa;kBAACC,SAAS,EAAC,iBAAiB;kBAAAF,QAAA,gBACjDjH,OAAA;oBAAKmH,SAAS,EAAC,eAAe;oBAAAF,QAAA,EAAC;kBAAW;oBAAAG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAEhDvH,OAAA;oBACEkH,EAAE,EAAC,aAAa;oBAChBS,IAAI,EAAC,MAAM;oBACXG,MAAM,EAAC,sBAAsB;oBAC7BF,QAAQ,EAAE,IAAI,CAACzF,UAAW;oBAC1B4F,QAAQ,EAAE;kBAAM;oBAAAX,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACjB,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACG,CAAC,eACRvH,OAAA;kBAAKmH,SAAS,EAAC,UAAU;kBAAAF,QAAA,eACvBjH,OAAA,CAACtB,aAAa;oBACZwI,EAAE,EAAC,gBAAgB;oBACnBc,YAAY,EAAE,IAAI,CAAC1F,eAAgB;oBACnCtB,KAAK,EAAE,IAAI,CAACA;kBAAM;oBAAAoG,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACnB;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eAENvH,OAAA;kBAAKkH,EAAE,EAAC,aAAa;kBAAAD,QAAA,EAAE,IAAI,CAAC7G,KAAK,CAACsF;gBAAQ;kBAAA0B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,eACjDvH,OAAA;kBACEkH,EAAE,EAAC,eAAe;kBAClBC,SAAS,EAAC,sBAAsB;kBAChCK,OAAO,EAAE,IAAI,CAACpF,QAAS;kBAAA6E,QAAA,EACxB;gBAED;kBAAAG,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAIN;YACN;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UACN;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACS,CAAC,eACbvH,OAAA;YAAKmH,SAAS,EAAC,mBAAmB;YAAAF,QAAA,gBACtBjH,OAAA;cACEkH,EAAE,EAAC,MAAM;cACTC,SAAS,EAAC,sBAAsB;cAChCK,OAAO,EAAE,IAAI,CAACxF,aAAc;cAAAiF,QAAA,eAE3BjH,OAAA;gBAAG0H,KAAK,EAAC;cAAY;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,eACTvH,OAAA;cACEkH,EAAE,EAAC,OAAO;cACVC,SAAS,EAAC,sBAAsB;cAChCK,OAAO,EAAE,IAAI,CAACvF,cAAe;cAAAgF,QAAA,eAE7BjH,OAAA;gBAAG0H,KAAK,EAAC;cAAa;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrB,CAAC,eACTvH,OAAA;cACEkH,EAAE,EAAC,MAAM;cACTC,SAAS,EAAC,sBAAsB;cAChCK,OAAO,EAAE,IAAI,CAACtF,aAAc;cAAA+E,QAAA,eAE5BjH,OAAA;gBAAG0H,KAAK,EAAC;cAAY;gBAAAN,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpB,CAAC,eACTvH,OAAA;cAAUkH,EAAE,EAAC,UAAU;cAACe,GAAG,EAAC,GAAG;cAAC3B,KAAK,EAAE,IAAI,CAAClG,KAAK,CAACW;YAAS;cAAAqG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAW,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpE,CAAC,eACNvH,OAAA;YAAKkH,EAAE,EAAC,SAAS;YAAAD,QAAA,GAAC,aACL,eAAAjH,OAAA;cAAAoH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACnB;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACNvH,OAAA;YAAKmH,SAAS,EAAC,kBAAkB;YAAAF,QAAA,gBAC/BjH,OAAA;cAAKkH,EAAE,EAAC,cAAc;cAAAD,QAAA,EAAE,IAAI,CAAC7G,KAAK,CAACM;YAAW;cAAA0G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eACrDvH,OAAA;cACA2H,IAAI,EAAC,OAAO;cACZT,EAAE,EAAC,QAAQ;cACXgB,GAAG,EAAE,CAAE;cACPD,GAAG,EAAE,CAAE;cACP3B,KAAK,EAAE,IAAI,CAAClG,KAAK,CAACM,WAAY;cAC9ByD,IAAI,EAAE,IAAK;cACXyD,QAAQ,EAAE,IAAI,CAACvF;YAAa;cAAA+E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,EACD,CAAC,IAAI,CAACnH,KAAK,CAACO,KAAK,iBAChBX,OAAA;cACEkH,EAAE,EAAC,UAAU;cACbe,GAAG,EAAC,GAAG;cACP3B,KAAK,EAAE,IAAI,CAAClG,KAAK,CAACW;YAAS;cAAAqG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CACZ;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC,eACNvH,OAAA,CAACvB,KAAK;YACdyI,EAAE,EAAC,OAAO;YACV3G,eAAe,EAAE,IAAI,CAACH,KAAK,CAACG,eAAgB;YAC5CC,OAAO,EAAE,IAAI,CAACJ,KAAK,CAACI,OAAQ;YAC5BE,WAAW,EAAE,IAAI,CAAC0F,cAAc,CAAC,IAAI,CAAChG,KAAK,CAACM,WAAW,CAAE;YACzDE,OAAO,EAAE,IAAI,CAAC6B,WAAY;YAC1BzB,KAAK,EAAE,IAAI,CAACA,KAAM;YAClB6B,WAAW,EAAE,IAAI,CAACA,WAAY;YAC9BI,KAAK,EAAE,IAAI,CAACA,KAAM;YAClBf,aAAa,EAAE,IAAI,CAACA;UAAc;YAAAkF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACS,CAAC;EAEjB;AACF;AAEA,eAAetH,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}